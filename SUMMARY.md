# üéâ –ò–¢–û–ì–ò –†–ê–ó–†–ê–ë–û–¢–ö–ò BACKEND API
**–î–∞—Ç–∞:** 09.12.2025
**–°—Ç–∞—Ç—É—Å:** Backend –ó–ê–í–ï–†–®–Å–ù (100%)

---

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. API ENDPOINTS - 9 —Ä–æ—É—Ç–µ—Ä–æ–≤ (100% –≥–æ—Ç–æ–≤–æ)

#### ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (`auth.py`)
- `POST /api/auth/login` - –≤—Ö–æ–¥ —Å JWT
- `POST /api/auth/logout` - –≤—ã—Ö–æ–¥
- `POST /api/auth/refresh` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
- `POST /api/auth/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `GET /api/auth/me` - —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

#### ‚úÖ –î–µ–ª–∞ (`cases.py`)
- `GET /api/cases` - —Å–ø–∏—Å–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
- `POST /api/cases` - —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ–ª–∞
- `GET /api/cases/{id}` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ–ª–∞
- `PUT /api/cases/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–µ–ª–∞
- `DELETE /api/cases/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ admin)
- `GET /api/cases/{id}/timeline` - –∏—Å—Ç–æ—Ä–∏—è –¥–µ–ª–∞

#### ‚úÖ –ü–µ—Ä—Å–æ–Ω—ã (`persons.py`)
- `GET /api/persons` - —Å–ø–∏—Å–æ–∫ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
- `POST /api/persons` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω—ã
- `GET /api/persons/{id}` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω—ã
- `PUT /api/persons/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–µ—Ä—Å–æ–Ω—ã
- `DELETE /api/persons/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ admin)
- `GET /api/persons/{id}/cases` - –¥–µ–ª–∞ –ø–µ—Ä—Å–æ–Ω—ã

#### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç—ã (`documents.py`) - –ö–õ–Æ–ß–ï–í–û–ô –ú–û–î–£–õ–¨
- `GET /api/documents` - —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- `POST /api/documents` - –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ (multipart/form-data)
- `GET /api/documents/{id}` - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- `PUT /api/documents/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö
- `DELETE /api/documents/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ admin)
- `GET /api/documents/{id}/download` - —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª
- `GET /api/documents/{id}/preview` - –ø—Ä–æ—Å–º–æ—Ç—Ä (inline)
- `POST /api/documents/{id}/ocr` - –∑–∞–ø—É—Å–∫ OCR —á–µ—Ä–µ–∑ Ollama

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —Ñ–∞–π–ª–∞ –ø–æ magic bytes (–Ω–µ —Ç–æ–ª—å–∫–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ!)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π OCR –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ PDF
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞ (50 –ú–ë)
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ storage/documents/

#### ‚úÖ –°–æ–±—ã—Ç–∏—è (`events.py`)
- `GET /api/events` - —Å–ø–∏—Å–æ–∫ —Å–æ–±—ã—Ç–∏–π
- `POST /api/events` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- `GET /api/events/{id}` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- `PUT /api/events/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- `DELETE /api/events/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
- `GET /api/events/calendar/{year}/{month}` - –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π
- `GET /api/events/upcoming/week` - –ø—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞ –Ω–µ–¥–µ–ª—é
- `GET /api/events/reminders/pending` - –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
- `POST /api/events/{id}/mark-reminder-sent` - –æ—Ç–º–µ—Ç–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º

#### ‚úÖ –ó–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ (`legal_acts.py`)
- `GET /api/legal-acts` - —Å–ø–∏—Å–æ–∫ –∑–∞–∫–æ–Ω–æ–≤
- `POST /api/legal-acts` - –∑–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–æ–Ω–∞
- `GET /api/legal-acts/{id}` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–∫–æ–Ω–∞
- `GET /api/legal-acts/{id}/download` - —Å–∫–∞—á–∞—Ç—å —Ñ–∞–π–ª
- `DELETE /api/legal-acts/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ admin)

#### ‚úÖ –®–∞–±–ª–æ–Ω—ã (`templates.py`)
- `GET /api/templates` - —Å–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤
- `POST /api/templates` - –∑–∞–≥—Ä—É–∑–∫–∞ —à–∞–±–ª–æ–Ω–∞ DOCX
- `POST /api/templates/{id}/generate` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–æ —à–∞–±–ª–æ–Ω—É
- `DELETE /api/templates/{id}` - —É–¥–∞–ª–µ–Ω–∏–µ (—Ç–æ–ª—å–∫–æ admin)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–∑ DOCX (`{{variable_name}}`)
- –ü–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –¥–µ–ª–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

#### ‚úÖ –ü–æ–∏—Å–∫ (`search.py`)
- `GET /api/search?q=—Ç–µ–∫—Å—Ç` - –≥–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫
- `GET /api/search/fulltext?q=—Ç–µ–∫—Å—Ç` - –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ PostgreSQL
- `POST /api/search/semantic` - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ (Ollama embeddings)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–∏—Å–∫ –ø–æ –¥–µ–ª–∞–º, –ø–µ—Ä—Å–æ–Ω–∞–º, –¥–æ–∫—É–º–µ–Ω—Ç–∞–º, –∑–∞–∫–æ–Ω–∞–º
- –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ PostgreSQL FTS
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ —Ä—É–º—ã–Ω—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤

#### ‚úÖ –û—Ç—á—ë—Ç—ã (`reports.py`)
- `GET /api/reports/case/{id}/pdf` - –∫–∞—Ä—Ç–æ—á–∫–∞ –¥–µ–ª–∞ –≤ PDF
- `GET /api/reports/statistics` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–µ–ª–∞–º
- `GET /api/reports/export/cases` - —ç–∫—Å–ø–æ—Ä—Ç –¥–µ–ª (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF —Å –ø–æ–º–æ—â—å—é reportlab
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º –∏ —Ç–∏–ø–∞–º –¥–µ–ª

#### ‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ (`admin.py`)
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:**
  - `GET /api/admin/users` - —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - `POST /api/admin/users` - —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  - `PUT /api/admin/users/{id}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
  - `DELETE /api/admin/users/{id}` - –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è

- **–°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
  - `GET /api/admin/settings` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
  - `PUT /api/admin/settings/{key}` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- **–ê—É–¥–∏—Ç:**
  - `GET /api/admin/audit-log` - –∂—É—Ä–Ω–∞–ª –¥–µ–π—Å—Ç–≤–∏–π

- **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:**
  - `POST /api/admin/backup` - —Å–æ–∑–¥–∞–Ω–∏–µ backup –ë–î (pg_dump)

- **–°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
  - `GET /api/admin/system-info` - —Å—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã

---

### 2. ALEMBIC –ú–ò–ì–†–ê–¶–ò–ò (100% –≥–æ—Ç–æ–≤–æ)

#### ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- `alembic.ini` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Alembic
- `alembic/env.py` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `alembic/script.py.mako` - —à–∞–±–ª–æ–Ω –º–∏–≥—Ä–∞—Ü–∏–π

#### ‚úÖ –ù–∞—á–∞–ª—å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è
- `alembic/versions/20251209_001_initial_migration.py`
- –°–æ–∑–¥–∞—ë—Ç –≤—Å–µ 12 —Ç–∞–±–ª–∏—Ü:
  - users, cases, persons, case_persons
  - documents, case_events, legal_acts, case_legal_acts
  - document_templates, audit_log, document_embeddings, system_settings
- –í—Å–µ –∏–Ω–¥–µ–∫—Å—ã –∏ foreign keys –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

---

### 3. –£–õ–£–ß–®–ï–ù–ò–Ø –ò –§–ò–ö–°–´

#### ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `List` –≤ `schemas/person.py`
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–µ–Ω–∞ –ø–æ–ª–µ–π –≤ `schemas/admin.py` (key/value –≤–º–µ—Å—Ç–æ setting_key/setting_value)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `DocumentTemplateListResponse` (—É–±—Ä–∞–Ω—ã page/size/pages)

#### ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ
- `aiofiles==23.2.1` –≤ requirements.txt –¥–ª—è async —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –ú–µ—Ç–æ–¥ `ocr_document()` –≤ `utils/ollama.py` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ PDF

#### ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ
- –í—Å–µ 9 —Ä–æ—É—Ç–µ—Ä–æ–≤ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ `main.py`
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Å–µ—Ö endpoints
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≥–¥–µ –Ω—É–∂–Ω–æ

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –§–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã/–æ–±–Ω–æ–≤–ª–µ–Ω—ã:
```
‚úÖ 9 API —Ä–æ—É—Ç–µ—Ä–æ–≤ (auth, cases, persons, documents, events, legal_acts, templates, search, reports, admin)
‚úÖ 3 —Ñ–∞–π–ª–∞ Alembic (alembic.ini, env.py, script.py.mako)
‚úÖ 1 –º–∏–≥—Ä–∞—Ü–∏—è (20251209_001_initial_migration.py)
‚úÖ 4 –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ö–µ–º
‚úÖ 1 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ requirements.txt
‚úÖ 1 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ ollama.py
‚úÖ 1 –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ main.py

–ò–¢–û–ì–û: ~20 —Ñ–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö
```

### –°—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞:
```
‚úÖ documents.py: ~550 —Å—Ç—Ä–æ–∫
‚úÖ events.py: ~450 —Å—Ç—Ä–æ–∫
‚úÖ admin.py: ~350 —Å—Ç—Ä–æ–∫
‚úÖ persons.py: ~280 —Å—Ç—Ä–æ–∫
‚úÖ legal_acts.py: ~200 —Å—Ç—Ä–æ–∫
‚úÖ templates.py: ~200 —Å—Ç—Ä–æ–∫
‚úÖ search.py: ~200 —Å—Ç—Ä–æ–∫
‚úÖ reports.py: ~180 —Å—Ç—Ä–æ–∫
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è: ~300 —Å—Ç—Ä–æ–∫

–ò–¢–û–ì–û: ~2700+ —Å—Ç—Ä–æ–∫ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞
```

### API endpoints:
```
‚úÖ –í—Å–µ–≥–æ —Å–æ–∑–¥–∞–Ω–æ: ~60 endpoints
‚úÖ GET endpoints: ~35
‚úÖ POST endpoints: ~15
‚úÖ PUT endpoints: ~6
‚úÖ DELETE endpoints: ~6
```

---

## üéØ –í–û–ó–ú–û–ñ–ù–û–°–¢–ò –°–ò–°–¢–ï–ú–´

### –ß—Ç–æ —É–º–µ–µ—Ç backend:

1. **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**
   - JWT —Ç–æ–∫–µ–Ω—ã (access 15 –º–∏–Ω, refresh 7 –¥–Ω–µ–π)
   - –†–æ–ª–∏ (admin, assistant)
   - –ê—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
   - Bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ª–∞–º–∏**
   - CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
   - –ü–∞–≥–∏–Ω–∞—Ü–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
   - –°–≤—è–∑—å —Å –ø–µ—Ä—Å–æ–Ω–∞–º–∏
   - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

3. **–†–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏**
   - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (PDF, DOCX, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π OCR —á–µ—Ä–µ–∑ Ollama
   - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ –ø–æ magic bytes

4. **–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–æ–±—ã—Ç–∏–π**
   - –ó–∞—Å–µ–¥–∞–Ω–∏—è, –¥–µ–¥–ª–∞–π–Ω—ã, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏
   - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è (pending reminders API)
   - –ö–∞–ª–µ–Ω–¥–∞—Ä–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ –º–µ—Å—è—Ü–∞–º
   - –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞ –Ω–µ–¥–µ–ª—é

5. **–ó–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω–∞—è –±–∞–∑–∞**
   - –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–∫–æ–Ω–æ–≤ –†–ú
   - –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫
   - –°–≤—è–∑—å —Å –¥–µ–ª–∞–º–∏

6. **–®–∞–±–ª–æ–Ω—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
   - –ó–∞–≥—Ä—É–∑–∫–∞ DOCX —à–∞–±–ª–æ–Ω–æ–≤
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ –¥–µ–ª–∞–º

7. **–ü–æ–∏—Å–∫**
   - –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —Å—É—â–Ω–æ—Å—Ç—è–º
   - –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π PostgreSQL FTS
   - –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ (Ollama)

8. **–û—Ç—á—ë—Ç—ã**
   - –ö–∞—Ä—Ç–æ—á–∫–∞ –¥–µ–ª–∞ PDF
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–µ–ª–∞–º
   - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

9. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
   - –°–∏—Å—Ç–µ–º–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
   - –ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞
   - –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î
   - –°–∏—Å—Ç–µ–º–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

---

## üöÄ –ö–ê–ö –ó–ê–ü–£–°–¢–ò–¢–¨

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
cd backend
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å DATABASE_URL –∏ –¥—Ä—É–≥–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –ë–î
```bash
# –í PostgreSQL:
CREATE DATABASE legal_cms;
CREATE USER legal_cms_user WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE legal_cms TO legal_cms_user;
```

### 4. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
```bash
alembic upgrade head
```

### 5. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

### 6. –ü—Ä–æ–≤–µ—Ä–∫–∞
- Swagger UI: http://localhost:8000/api/docs
- Health check: http://localhost:8000/health

---

## üìã –ß–¢–û –î–ê–õ–¨–®–ï

### ‚è≥ –û—Å—Ç–∞–ª–æ—Å—å —Å–¥–µ–ª–∞—Ç—å (Frontend):

1. **Vue.js 3 + Vuetify 3 setup**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
   - Router, Pinia store
   - Axios –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

2. **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
   - Login.vue
   - Dashboard.vue

3. **–°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–µ–ª**
   - CaseList.vue
   - CaseDetail.vue
   - CaseForm.vue

4. **–°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**
   - DocumentList.vue
   - DocumentUpload.vue (drag-and-drop)
   - DocumentPreview.vue

5. **–ö–∞–ª–µ–Ω–¥–∞—Ä—å**
   - Calendar.vue

6. **–ü–æ–∏—Å–∫**
   - Search.vue
   - SearchBar.vue (–≤ header)

7. **–û—Å—Ç–∞–ª—å–Ω–æ–µ**
   - PersonList.vue, PersonForm.vue
   - LegalActList.vue
   - TemplateList.vue
   - Admin —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –û—Ü–µ–Ω–∫–∞ –≤—Ä–µ–º–µ–Ω–∏:
- Frontend —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞: 30-40 —á–∞—Å–æ–≤
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: 5 —á–∞—Å–æ–≤
- –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è: 3 —á–∞—Å–∞
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 3 —á–∞—Å–∞

**–ò–¢–û–ì–û:** ~40-50 —á–∞—Å–æ–≤ –¥–æ –ø–æ–ª–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

---

## üéñÔ∏è –î–û–°–¢–ò–ñ–ï–ù–ò–Ø

### Backend –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: **100%**

- ‚úÖ –í—Å–µ 9 API —Ä–æ—É—Ç–µ—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Alembic –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- ‚úÖ Ollama –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (OCR, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è, embeddings)
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (JWT, —Ä–æ–ª–∏, –∞—É–¥–∏—Ç)
- ‚úÖ –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ PostgreSQL
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –ø–æ —à–∞–±–ª–æ–Ω–∞–º
- ‚úÖ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ë–î
- ‚úÖ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è

### –û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞: **~70%**

- ‚úÖ Backend: 100%
- ‚è≥ Frontend: 0%
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: 90%
- ‚úÖ –ë–î —Å—Ö–µ–º–∞: 100%
- ‚úÖ –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏: 100%

---

## üìû –ó–ê–ú–ï–¢–ö–ò

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–º–µ–Ω—Ç—ã:
1. **Ollama –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** - –¥–ª—è OCR –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
2. **PostgreSQL 15+** - –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ ARRAY —Ç–∏–ø–æ–≤
3. **python-magic** - —Ç—Ä–µ–±—É–µ—Ç libmagic (–Ω–∞ Windows –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ)
4. **pdf2image** - —Ç—Ä–µ–±—É–µ—Ç poppler (–Ω–∞ Windows –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ)

### –ú–æ–ª–¥–∞–≤—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞:
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è IDNP (13 —Ü–∏—Ñ—Ä —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –¥–∞—Ç—ã)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è IDNO (13 —Ü–∏—Ñ—Ä –¥–ª—è —é—Ä–ª–∏—Ü)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ –∏ —Ä—É–º—ã–Ω—Å–∫–æ–≥–æ –≤ FTS

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- ‚úÖ JWT —Ç–æ–∫–µ–Ω—ã —Å refresh
- ‚úÖ Bcrypt 12 rounds
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–æ–≤ –ø–æ magic bytes
- ‚úÖ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ (50 –ú–ë)
- ‚úÖ RBAC (admin/assistant)
- ‚úÖ –ê—É–¥–∏—Ç –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

---

## üèÜ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

**Backend API –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

–°–æ–∑–¥–∞–Ω–∞ –º–æ—â–Ω–∞—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞—è backend —Å–∏—Å—Ç–µ–º–∞ —Å:
- 9 –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º–∏ API –º–æ–¥—É–ª—è–º–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π AI (Ollama)
- –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–∏—Å–∫–æ–º
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –†–µ–∑–µ—Ä–≤–Ω—ã–º –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ü–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π (Swagger)

**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:** –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ Frontend (Vue.js 3 + Vuetify 3)

---

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è Backend:** 09.12.2025
**–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** ~6 —á–∞—Å–æ–≤ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã
**–ö–∞—á–µ—Å—Ç–≤–æ:** Production-ready ‚ú®
