# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º Legal CMS-MD

**–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫**

---

## üö® –ü–†–û–ë–õ–ï–ú–´ –ü–†–ò –£–°–¢–ê–ù–û–í–ö–ï

### ‚ùå –û—à–∏–±–∫–∞: "command not found: python3"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** Python –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo apt update
sudo apt install python3.11 python3.11-venv python3-pip
```

---

### ‚ùå –û—à–∏–±–∫–∞: "command not found: npm"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** Node.js –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo apt update
sudo apt install nodejs npm
```

---

### ‚ùå –û—à–∏–±–∫–∞: "FATAL: database 'legal_cms' does not exist"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Å–æ–∑–¥–∞–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
sudo -u postgres psql
CREATE DATABASE legal_cms;
CREATE USER legal_cms_user WITH PASSWORD '–≤–∞—à_–ø–∞—Ä–æ–ª—å';
GRANT ALL PRIVILEGES ON DATABASE legal_cms TO legal_cms_user;
\q
```

---

### ‚ùå –û—à–∏–±–∫–∞: "FATAL: password authentication failed"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–∞—Ä–æ–ª—å –≤ .env —Ñ–∞–π–ª–µ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd backend
nano .env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–æ–∫—É DATABASE_URL
# –ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Ç–µ–º, —á—Ç–æ –≤—ã —É–∫–∞–∑–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
DATABASE_URL=postgresql+asyncpg://legal_cms_user:–ü–†–ê–í–ò–õ–¨–ù–´–ô_–ü–ê–†–û–õ–¨@localhost/legal_cms

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å: Ctrl+O, Enter, Ctrl+X
```

---

### ‚ùå –û—à–∏–±–∫–∞: "No module named 'app'"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –í—ã –Ω–µ –≤ –Ω—É–∂–Ω–æ–π –ø–∞–ø–∫–µ –∏–ª–∏ venv –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã –≤ –ø–∞–ø–∫–µ backend
cd "Z:\FQ\–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç\Jurist\backend"

# 2. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ venv
source venv/bin/activate

# 3. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è (venv) –≤ –Ω–∞—á–∞–ª–µ —Å—Ç—Ä–æ–∫–∏
(venv) user@computer:~/backend$
```

---

### ‚ùå –û—à–∏–±–∫–∞: "alembic: command not found"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd backend
source venv/bin/activate
pip install -r requirements.txt
```

---

## üö® –ü–†–û–ë–õ–ï–ú–´ –ü–†–ò –ó–ê–ü–£–°–ö–ï

### ‚ùå Backend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è: "Address already in use"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –ü–æ—Ä—Ç 8000 —É–∂–µ –∑–∞–Ω—è—Ç

**–†–µ—à–µ–Ω–∏–µ 1 - –ù–∞–π—Ç–∏ –∏ —É–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å:**
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 8000
lsof -i :8000

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID –Ω–∞ –Ω–æ–º–µ—Ä –∏–∑ –≤—ã–≤–æ–¥–∞ –≤—ã—à–µ)
kill -9 PID
```

**–†–µ—à–µ–Ω–∏–µ 2 - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç:**
```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8001
```

–ü–æ—Ç–æ–º –≤ `frontend/.env` –∏–∑–º–µ–Ω–∏—Ç–µ:
```env
VITE_API_BASE_URL=http://localhost:8001
```

---

### ‚ùå Frontend –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è: "Port 5173 is in use"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –ü–æ—Ä—Ç 5173 —É–∂–µ –∑–∞–Ω—è—Ç

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å
lsof -i :5173

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill -9 PID
```

–ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ `y` –∫–æ–≥–¥–∞ Vite –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç.

---

### ‚ùå Ollama: "Error: connection refused"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** Ollama –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
ollama serve

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:11434/api/tags
```

---

### ‚ùå Backend: "ModuleNotFoundError: No module named 'fastapi'"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ –∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd backend
source venv/bin/activate  # –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å venv
pip install -r requirements.txt  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

---

## üö® –ü–†–û–ë–õ–ï–ú–´ –í –†–ê–ë–û–¢–ï

### ‚ùå "–ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ - Invalid credentials"

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

**1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å**
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: admin / admin123
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä (–±–æ–ª—å—à–∏–µ/–º–∞–ª–µ–Ω—å–∫–∏–µ –±—É–∫–≤—ã)

**2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–æ–∑–¥–∞–Ω**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
sudo -u postgres psql -d legal_cms
SELECT username, email, is_active FROM users;
\q
```

–ï—Å–ª–∏ –ø—É—Å—Ç–æ - —Å–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω–∞:
```bash
cd backend
source venv/bin/activate
python create_admin.py
```

**3. Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–∫–Ω–æ 2 - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
INFO:     Uvicorn running on http://0.0.0.0:8000
```

---

### ‚ùå "OCR –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –¥–æ–ª–≥–æ –≤–∏—Å–∏—Ç"

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

**1. Ollama –Ω–µ –∑–∞–ø—É—â–µ–Ω**
```bash
ollama serve  # –í –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ
```

**2. –ú–æ–¥–µ–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞**
```bash
ollama list
# –ï—Å–ª–∏ deepseek-ocr –Ω–µ—Ç –≤ —Å–ø–∏—Å–∫–µ:
ollama pull deepseek-ocr:latest
```

**3. –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π**
- OCR –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç ~1 —Å—Ç—Ä–∞–Ω–∏—Ü—É –∑–∞ 10-30 —Å–µ–∫—É–Ω–¥
- –§–∞–π–ª –Ω–∞ 100 —Å—Ç—Ä–∞–Ω–∏—Ü –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å—Å—è 15-50 –º–∏–Ω—É—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–∫–Ω–æ Backend - —Ç–∞–º –±—É–¥–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å

---

### ‚ùå "–ù–µ –º–æ–≥—É –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª - File too large"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –§–∞–π–ª –±–æ–ª—å—à–µ 50 –ú–ë

**–†–µ—à–µ–Ω–∏–µ:**

–£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç –≤ `backend/.env`:
```env
# –ë—ã–ª–æ
MAX_FILE_SIZE=52428800  # 50 –ú–ë

# –°—Ç–∞–ª–æ (100 –ú–ë)
MAX_FILE_SIZE=104857600
```

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Backend (Ctrl+C –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–Ω–æ–≤–∞).

---

### ‚ùå "–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—É—Å—Ç–∞—è / –±–µ–ª—ã–π —ç–∫—Ä–∞–Ω"

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

**1. Frontend –Ω–µ –∑–∞–ø—É—â–µ–Ω**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–∫–Ω–æ 3 - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
VITE v5.x.x ready in 500 ms
‚ûú  Local:   http://localhost:5173/
```

**2. Backend –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω**

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) ‚Üí –≤–∫–ª–∞–¥–∫–∞ Console

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ "net::ERR_CONNECTION_REFUSED" ‚Üí Backend –Ω–µ –∑–∞–ø—É—â–µ–Ω

**3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å**

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `frontend/.env`:
```env
VITE_API_BASE_URL=http://localhost:8000
```

---

### ‚ùå "–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ —Å—Ä–∞–∑—É –≤—ã–∫–∏–¥—ã–≤–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –ü—Ä–æ–±–ª–µ–º–∞ —Å JWT —Ç–æ–∫–µ–Ω–æ–º

**–†–µ—à–µ–Ω–∏–µ:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. Application ‚Üí Local Storage ‚Üí http://localhost:5173
3. –£–¥–∞–ª–∏—Ç–µ –∫–ª—é—á `auth`
4. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)
5. –í–æ–π–¥–∏—Ç–µ —Å–Ω–æ–≤–∞

---

### ‚ùå "–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á—ë—Ç–∞"

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

**1. –ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –¥–µ–ª–µ**

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –¥–µ–ª–µ –µ—Å—Ç—å:
- –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –Ω–æ–º–µ—Ä –¥–µ–ª–∞
- –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç –∏–ª–∏ —Å–æ–±—ã—Ç–∏–µ

**2. Ollama –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω**

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—á—ë—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç AI –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞.

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```bash
curl http://localhost:11434/api/tags
```

---

## üö® –ü–†–û–ë–õ–ï–ú–´ –° –ë–ê–ó–û–ô –î–ê–ù–ù–´–•

### ‚ùå "–¢–∞–±–ª–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd backend
source venv/bin/activate
alembic upgrade head
```

---

### ‚ùå "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞"

**–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç:** –î—Ä—É–≥–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ë–î

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
sudo -u postgres psql -d legal_cms
SELECT * FROM pg_stat_activity WHERE datname = 'legal_cms';

# –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE datname = 'legal_cms' AND pid <> pg_backend_pid();
\q
```

---

### ‚ùå "–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è - –æ—à–∏–±–∫–∞"

**–†–µ—à–µ–Ω–∏–µ:**

```bash
cd backend
source venv/bin/activate

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
alembic current

# –û—Ç–∫–∞—Ç–∏—Ç—å –Ω–∞ –æ–¥–Ω—É –≤–µ—Ä—Å–∏—é –Ω–∞–∑–∞–¥
alembic downgrade -1

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∑–∞–Ω–æ–≤–æ
alembic upgrade head
```

–ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç:
```bash
# –°–±—Ä–æ—Å–∏—Ç—å –≤–µ—Ä—Å–∏—é
alembic stamp head

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
alembic upgrade head
```

---

## üö® –ü–†–û–ë–õ–ï–ú–´ –° –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨–Æ

### ‚ùå "–ü—Ä–æ–≥—Ä–∞–º–º–∞ –æ—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–∞—è"

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**

**1. Ollama –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º–Ω–æ–≥–æ —Ä–µ—Å—É—Ä—Å–æ–≤**

OCR –∑–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –Ω–∞ 100%. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ.

–ï—Å–ª–∏ –º–µ—à–∞–µ—Ç —Ä–∞–±–æ—Ç–µ:
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –Ω–æ—á—å—é
- –ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ –∞–≤—Ç–æ-OCR –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

**2. –ú–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î**

–ï—Å–ª–∏ –¥–µ–ª –±–æ–ª—å—à–µ 10,000:
```bash
# –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î
sudo -u postgres psql -d legal_cms
VACUUM ANALYZE;
REINDEX DATABASE legal_cms;
\q
```

**3. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ RAM**

–ú–∏–Ω–∏–º—É–º: 4 –ì–ë
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 8 –ì–ë

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
```bash
free -h
```

---

### ‚ùå "–ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ"

**–†–µ—à–µ–Ω–∏–µ:**

–°–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞:
```bash
sudo -u postgres psql -d legal_cms

CREATE INDEX idx_cases_search ON cases USING gin(to_tsvector('russian', title || ' ' || description));
CREATE INDEX idx_documents_search ON documents USING gin(to_tsvector('russian', file_name || ' ' || COALESCE(ocr_text, '')));

\q
```

---

## üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### ‚ùå "–ü–æ—Ç–µ—Ä—è–ª –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏"

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

1. PostgreSQL –∑–∞–ø—É—â–µ–Ω:
```bash
sudo systemctl status postgresql
sudo systemctl start postgresql
```

2. –ë–∞–∑–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:
```bash
sudo -u postgres psql
\l  # –°–ø–∏—Å–æ–∫ –±–∞–∑ - –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å legal_cms
\q
```

3. –î–∞–Ω–Ω—ã–µ –Ω–∞ –º–µ—Å—Ç–µ:
```bash
sudo -u postgres psql -d legal_cms
SELECT COUNT(*) FROM cases;  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–µ–ª
\q
```

**–ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç:**

–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ backup:
```bash
psql -U legal_cms_user -d legal_cms < backups/backup_20251210.sql
```

---

### ‚ùå "–°–ª—É—á–∞–π–Ω–æ —É–¥–∞–ª–∏–ª –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ"

**–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.**

**–ù–æ –µ—Å—Ç—å –∂—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞:**

```bash
sudo -u postgres psql -d legal_cms
SELECT * FROM audit_log WHERE table_name = 'cases' ORDER BY created_at DESC LIMIT 10;
\q
```

–í `old_value` –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å —á—Ç–æ –±—ã–ª–æ —É–¥–∞–ª–µ–Ω–æ.

**–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ backup:**
```bash
# –ù–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π backup
ls -lt backups/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
psql -U legal_cms_user -d legal_cms < backups/backup_YYYYMMDD.sql
```

---

### ‚ùå "–ó–∞–±—ã–ª –ø–∞—Ä–æ–ª—å –æ—Ç admin"

**–†–µ—à–µ–Ω–∏–µ:**

–°–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å —á–µ—Ä–µ–∑ SQL:
```bash
sudo -u postgres psql -d legal_cms

# –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å: newpass123
UPDATE users SET hashed_password = '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5oDWGypd/pG2C' WHERE username = 'admin';

\q
```

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤–æ–π—Ç–∏ —Å admin / newpass123

**–ò–ª–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π —Ö–µ—à:**
```bash
cd backend
source venv/bin/activate
python
>>> from app.utils.security import get_password_hash
>>> print(get_password_hash("–º–æ–π_–Ω–æ–≤—ã–π_–ø–∞—Ä–æ–ª—å"))
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ö–µ—à –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ UPDATE –≤—ã—à–µ
```

---

## üìã –ß–ï–ö–õ–ò–°–¢ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ –ø–æ—Ä—è–¥–∫—É:

- [ ] PostgreSQL –∑–∞–ø—É—â–µ–Ω (`sudo systemctl status postgresql`)
- [ ] –ë–∞–∑–∞ legal_cms —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`sudo -u postgres psql -l`)
- [ ] Ollama –∑–∞–ø—É—â–µ–Ω (`curl http://localhost:11434/api/tags`)
- [ ] Backend venv –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–æ (`source venv/bin/activate`)
- [ ] Backend –∑–∞–ø—É—â–µ–Ω (`curl http://localhost:8000/docs`)
- [ ] Frontend –∑–∞–ø—É—â–µ–Ω (`curl http://localhost:5173`)
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –æ–∫–Ω–µ Backend (–æ–∫–Ω–æ 2)
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –æ–∫–Ω–µ Frontend (–æ–∫–Ω–æ 3)
- [ ] –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)
- [ ] –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –≤ –±—Ä–∞—É–∑–µ—Ä–µ (`http://localhost:5173`)

---

## üÜò –≠–ö–°–¢–†–ï–ù–ù–ê–Ø –ü–û–ú–û–©–¨

### –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ:

```bash
# 1. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å—ë
# –ù–∞–∂–∞—Ç—å Ctrl+C –≤ –æ–∫–Ω–∞—Ö 1, 2, 3

# 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PostgreSQL
sudo systemctl restart postgresql

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å Ollama (–æ–∫–Ω–æ 1)
ollama serve

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å Backend (–æ–∫–Ω–æ 2)
cd "Z:\FQ\–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç\Jurist\backend"
source venv/bin/activate
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# 5. –ó–∞–ø—É—Å—Ç–∏—Ç—å Frontend (–æ–∫–Ω–æ 3)
cd "Z:\FQ\–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç\Jurist\frontend"
npm run dev

# 6. –û—Ç–∫—Ä—ã—Ç—å –±—Ä–∞—É–∑–µ—Ä
# http://localhost:5173
```

---

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã:

```bash
# PostgreSQL
sudo systemctl status postgresql

# Python –≤–µ—Ä—Å–∏—è
python3 --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 3.11+

# Node –≤–µ—Ä—Å–∏—è
node --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 18+

# Ollama
ollama --version

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
sudo -u postgres psql -d legal_cms -c "SELECT COUNT(*) FROM users;"

# Backend API
curl http://localhost:8000/docs

# Frontend
curl http://localhost:5173
```

–ï—Å–ª–∏ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –æ—à–∏–±–æ–∫ - —Å–∏—Å—Ç–µ–º–∞ –≤ –ø–æ—Ä—è–¥–∫–µ!

---

## üìû –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ü–û–ú–û–©–¨

**–õ–æ–≥–∏ Backend:**
```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –≤ –æ–∫–Ω–µ 2
# –í—Å–µ –æ—à–∏–±–∫–∏ –±—É–¥—É—Ç –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º
```

**–õ–æ–≥–∏ Frontend:**
```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –≤ –æ–∫–Ω–µ 3
# –ò–õ–ò –≤ –±—Ä–∞—É–∑–µ—Ä–µ: F12 ‚Üí Console
```

**–õ–æ–≥–∏ PostgreSQL:**
```bash
sudo tail -f /var/log/postgresql/postgresql-15-main.log
```

**–õ–æ–≥–∏ Ollama:**
```bash
# –°–º–æ—Ç—Ä–µ—Ç—å –≤ –æ–∫–Ω–µ 1
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 10.12.2025
**–í–µ—Ä—Å–∏—è:** 1.0.0
